# Introduction

AOE RMS Spoon is a utility that allows you to programmatically create RMS Ageof Empires random script map files.
To support this, it provides a small semantic analysis to help you avoid commons errors. 
Furthermore, it can actually target different age of empires version, albeit for now the only implementation is the latest, Definitive Edition.

The project aims to provide a **sound but not complete** algorithm to programmatically create RMS files.

# Build

To build:

```
cd aoe-rms-spoon
mvn build test install
```

You can then use the generateed artifact inside your Java project in order to build the rms file.

# Examples

In `src/test/java` there are several examples you can use to help gettijng started. I recommend the TeamArena, which tries to build an arean like map.

# Known Limitations

The code generation does not allows to generate code like:

```
if FLAG
   command_name first_command_argument1
else
   command_name first_command_argument2
endif
second_command_argument
```

So, the following code can not be generated by this framework:

```
if FLAG
   create_object HAWK
else
   create_object VULTURE
endif
{ number_of_objects 5 }
```

# FAQ

 - **The semantic analysis crash, and ths does not allows me to generate the RMS file**. Semantic analysis still needs some development. You can disable it by calling:
 
     ```
	 var spoon = SpoonFramework.instance(new DefinitiveEdition());
	 spoon.disableSemanticAnalysis();
	 ```
	 
 - **I want to put the RMS file generated inside the local modes**: You can do it with the command
 
	```
	 var spoon = SpoonFramework.instance(new DefinitiveEdition());
	 spoon.setOutputFileInLocalMods("my-arena");
	 ```
	
	This will put the file inside a mode called "my-arena", in a file called "my-arena.rms".

 - **How to release a new version of the software**. The project uses `maven-release-plugin`, hence you can do it via:
 
	```
	 mvn -Dresume=false release:prepare
	 mvn release:perform
	```

# Bug and feature requests

Please fill a github issue if you detct something weird or you want a new feature in the framework.

